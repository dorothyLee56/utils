!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).utils={})}(this,(function(e){"use strict";function t(e,t,n){let r=e+"";for(;r.length<t;)r=(n||"0")+r;return r}let n=0;const r={};let o=0;const i={};e.arr_unique=function(e){return Array.from(new Set(e))},e.classNames=function(...e){let t=[];for(const n of e)if("string"==typeof n)t.push(n);else if(n instanceof Object){const e=Object.entries(n).filter((e=>e[1])).map((e=>e[0]));t=t.concat(e)}return t.join(" ")},e.formatDate=function(e,n="Y-m-d H:i"){if(!e)return"";if("number"==typeof e){10===e.toString().length&&(e*=1e3),e=new Date(e)}return"string"==typeof e&&(10===e.length&&(e+="000"),e=parseInt(e),e=new Date(e)),n.replace(/Y/g,t(e.getFullYear(),4)).replace(/m/g,t(e.getMonth()+1,2)).replace(/d/g,t(e.getDate(),2)).replace(/H/g,t(e.getHours(),2)).replace(/i/g,t(e.getMinutes(),2)).replace(/s/g,t(e.getSeconds(),2))},e.getEndOfCurrentDay=function(){const e=Date.now(),t=new Date(e).getFullYear(),n=new Date(e).getMonth(),r=new Date(e).getDate();return new Date(t,n,r+1).getTime()},e.getEndOfCurrentWeek=function(){const e=new Date,t=e.getDay(),n=0===t?6:t-1,r=new Date(e.getTime()+24*(6-n)*60*60*1e3);return r.setHours(23,59,59,999),r.getTime()},e.is_number=function(e){return"number"==typeof e&&isFinite(e)},e.is_object=function(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)},e.loadCss=function(e){if(!e)return Promise.reject("empty url");const t=r[e];return t?Promise.resolve(t):new Promise(((t,o)=>{const i=document.createElement("link");if(i.setAttribute("rel","stylesheet"),i.id="link"+n++,i.setAttribute("href",e),i.setAttribute("charset","utf-8"),0!==i.href.indexOf("http"))throw Error(`load-css只能加载http/https协议的url，当前协议是${location.protocol}`);i.onload=n=>{r[e]=n,t(n)},i.onerror=e=>{const t=document.getElementById(i.id);document.body.removeChild(t),o(e)},document.body.appendChild(i)}))},e.loadScript=function(e){if(!e)return Promise.reject("empty url");const t=i[e];return t?Promise.resolve(t):new Promise(((t,n)=>{const r=document.createElement("script");if(r.id="script"+o++,r.src=e,r.async=!0,0!==r.src.indexOf("http"))throw Error(`load-script只能加载http/https协议的url，当前协议是${location.protocol}`);r.onerror=e=>{const t=document.getElementById(r.id);document.body.removeChild(t),n(e)},r.readyState?r.onreadystatechange=n=>{"loaded"!=r.readyState&&"complete"!=r.readyState||(r.onreadystatechange=null,i[e]=n,t(n))}:r.onload=n=>{i[e]=n,t(n)},document.body.appendChild(r)}))},e.padLeft=t,e.str_ensure_prefix=function(e,t){return e.startsWith(t)?e:`${t}${e}`},e.str_ensure_suffix=function(e,t){return e.endsWith(t)?e:`${e}${t}`},e.urlParamPass=(e,t=[])=>{if(!e)return"";const n=new URL(e),r=new URL(location.href);return t.forEach((e=>{const t=r.searchParams.get(e)||"";t&&n.searchParams.append(e,t)})),n.toString()}}));
